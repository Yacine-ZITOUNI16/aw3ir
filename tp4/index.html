<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="css/bootstrap.css">
  <script src="js/form-validation.js"></script>
  <script src="js/bootstrap.bundle.js"></script>
  <script src="js/gps.js"></script>
  <script src="js/store.js"></script>


  <title>TP4 AW</title>
</head>

<body>
    

  <div class="container">
   <center><i><h1>TP4 AW</h1></i></center> <br><br>
    <form id="formAW" name="form">
      <div class="row">
          <div class="col">
            <strong><label class="form-label" for="nom">Nom :</label></strong>  
        </div>
          <div class="col">
            <input type="text" class="form-control" name="nom" id="nom" size="30" minlength="5" onkeypress="calcNbChar(this.id)" style="position: absolute; width:290px;"/>
            <span style="margin-left: 300px;"></span>
          </div>
      </div>

      <div class="row">
          <div class="col">
            <strong><label class="form-label" for="prenom">Prénom :</label></strong>
          </div>
          <div class="col">
            <input type="text" class="form-control" name="prenom" id="prenom" size="30" minlength="5" onkeypress="calcNbChar(this.id)" style="position: absolute; width:290px;"/>
            <span style="margin-left: 300px;"></span>
          </div>        
      </div>

      <div class="row">
          <div class="col">
          <strong><label for="date">Date de naissance :</label></strong>
          </div>
          <div class="col">
            <input type="date" name="date" id="date" placeholer="JJ/MM/AAAA" class="form-control" />
          </div>
      </div>

      <div class="row">
        <div class="col">
        <strong><label class="form-label" for="adresse">Adresse :</label></strong>
        </div>
        <div class="col">
          <input type="text" name="adresse" id="adresse" size="30" minlength="5" class="form-control" style="position: absolute; width: 240px;"/>
          
          <input type="button" id="gps" class="btn-warning btn" value="GPS" style="margin-left: 250px;" onclick="getLocation()"/>
          
        </div>
      </div>
      <div id="map"></div>

      <div class="row">
        <div class="col">
          <br>
        <strong><label class="form-label" for="mail">Mail :</label></strong>
        </div>
        <div class="col">
          <br>
          <input type="email" name="mail" id="mail" size="30" minlength="5" class="form-control" onkeypress="calcNbChar(this.id)" style="position: absolute; width:290px;"/>
          <span style="margin-left: 300px;"></span>
        </div>
      </div>
      <br/>
      <center><input type="submit" class="btn btn-light" value="Valider" id="submit"></center>
    </form>
  </div>

  <div class="modal" tabindex="-1" role="dialog" id="myModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="modal-title" class="modal-title">Erreur!!</h5>
        </div>
        <div id="modal-body" class="modal-body">
          <p id="modal-error-msg"></p>
          <p id="modal-error-msg2"></p>
          <p id="modal-core-msg"></p>
          <div id="error"></div>
          <br />
          <div id="resultat"></div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="btn-close" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  
  <h4>Liste des contacts </h4>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Date de naissance</th>
        <th>Adresse</th>
        <th>Mail</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="modal" tabindex="-1" role="dialog" id="myModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="modal-title" class="modal-title">Informations saisies</h5>
        </div>
        <div id="modal-body" class="modal-body">
          <p id="modal-error-msg"></p>
          <p id="modal-core-msg"></p>
          <div id="error"></div>
          <br />
          <div id="resultat"></div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            id="btn-close"
            class="btn btn-secondary"
            data-dismiss="modal"
          >
            Ok
          </button>
        </div>
      </div>
    </div>
  </div>
</div>


  <script>
    function calcNbChar(id) {
        document.querySelector(`#${id} + span`).textContent =
          document.querySelector(`#${id}`).value.length;
      }
  </script>


</body>

</html>
